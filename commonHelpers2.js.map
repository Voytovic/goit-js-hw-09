{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["\nconst KEY = 'feedback-form-state';\n\nlet previousData = {};\n\nconst formElem = document.querySelector('.feedback-form');\n\nformElem.addEventListener('input', onFormInput);\nformElem.addEventListener('submit', onFormSubmit);\n\nfunction onFormInput() {\n  const email = formElem.elements.email.value.trim();\n  const message = formElem.elements.message.value.trim();\n\n  const data = {\n    email,\n    message,\n  };\n\n  saveToLocalStorage(KEY, data);\n}\n\nfunction onFormSubmit(e) {\n  e.preventDefault();\n\n  const email = formElem.elements.email.value.trim();\n  const message = formElem.elements.message.value.trim();\n\n  if (email === '' || message === '') {\n    alert('All form fields must be filled in');\n    return;\n  }\n\n  const data = {\n    email,\n    message,\n  };\n\n  localStorage.removeItem(KEY);\n  formElem.reset();\n\n  console.log(data);\n}\n\nfunction saveToLocalStorage(key, value) {\n  const jsonItem = JSON.stringify(value);\n  localStorage.setItem(key, jsonItem);\n}\n\nfunction getFromLocalStorage(key) {\n  const parseItem = localStorage.getItem(key);\n  try {\n    return JSON.parse(parseItem);\n  } catch {\n    return parseItem;\n  }\n}\n\nfunction dataInput() {\n  const data = getFromLocalStorage(KEY) || {};\n  formElem.elements.email.value = data.email || '';\n  formElem.elements.message.value = data.message || '';\n}\n\ndataInput();"],"names":["KEY","formElem","onFormInput","onFormSubmit","email","message","saveToLocalStorage","data","key","value","jsonItem","getFromLocalStorage","parseItem","dataInput"],"mappings":"oDACA,MAAMA,EAAM,sBAINC,EAAW,SAAS,cAAc,gBAAgB,EAExDA,EAAS,iBAAiB,QAASC,CAAW,EAC9CD,EAAS,iBAAiB,SAAUE,CAAY,EAEhD,SAASD,GAAc,CACrB,MAAME,EAAQH,EAAS,SAAS,MAAM,MAAM,OACtCI,EAAUJ,EAAS,SAAS,QAAQ,MAAM,OAOhDK,EAAmBN,EALN,CACX,MAAAI,EACA,QAAAC,CACJ,CAE8B,CAC9B,CAEA,SAASF,EAAa,EAAG,CACvB,EAAE,eAAc,EAEhB,MAAMC,EAAQH,EAAS,SAAS,MAAM,MAAM,OACtCI,EAAUJ,EAAS,SAAS,QAAQ,MAAM,OAEhD,GAAIG,IAAU,IAAMC,IAAY,GAAI,CAClC,MAAM,mCAAmC,EACzC,MACD,CAED,MAAME,EAAO,CACX,MAAAH,EACA,QAAAC,CACJ,EAEE,aAAa,WAAWL,CAAG,EAC3BC,EAAS,MAAK,EAEd,QAAQ,IAAIM,CAAI,CAClB,CAEA,SAASD,EAAmBE,EAAKC,EAAO,CACtC,MAAMC,EAAW,KAAK,UAAUD,CAAK,EACrC,aAAa,QAAQD,EAAKE,CAAQ,CACpC,CAEA,SAASC,EAAoBH,EAAK,CAChC,MAAMI,EAAY,aAAa,QAAQJ,CAAG,EAC1C,GAAI,CACF,OAAO,KAAK,MAAMI,CAAS,CAC/B,MAAI,CACA,OAAOA,CACR,CACH,CAEA,SAASC,GAAY,CACnB,MAAMN,EAAOI,EAAoBX,CAAG,GAAK,CAAA,EACzCC,EAAS,SAAS,MAAM,MAAQM,EAAK,OAAS,GAC9CN,EAAS,SAAS,QAAQ,MAAQM,EAAK,SAAW,EACpD,CAEAM,EAAW"}